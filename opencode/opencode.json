{
  "$schema": "https://opencode.ai/config.json",
  
  "model": "kimi/kimi-k2-5-free",
  "small_model": "kimi/kimi-k2-5-free",
  
  "provider": {
    "kimi": {
      "options": {
        "timeout": 600000
      }
    }
  },
  
  "mcp": {
    "filesystem": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-filesystem", "{env:HOME}"],
      "enabled": true
    },
    "github": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-github"],
      "enabled": true,
      "environment": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "{env:GITHUB_PERSONAL_ACCESS_TOKEN}"
      }
    },
    "fetch": {
      "type": "local",
      "command": ["uvx", "mcp-server-fetch"],
      "enabled": true
    },
    "memory": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-memory"],
      "enabled": true
    },
    "docker": {
      "type": "local",
      "command": ["uvx", "mcp-server-docker"],
      "enabled": true
    },
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp",
      "enabled": true
    }
  },

  "theme": "earthsong",
  
  "keybinds": {
    "sidebar_toggle": "ctrl+b",
    "scrollbar_toggle": "none",
    "status_view": "ctrl+x s",
    "tool_details": "ctrl+x d"
  },
  
  "tui": {
    "scroll_speed": 5,
    "scroll_acceleration": {
      "enabled": true
    },
    "diff_style": "auto"
  },
  
  "permission": {
    "read": "allow",
    "glob": "allow",
    "grep": "allow",
    "bash": "ask",
    "edit": "ask",
    "write": "ask"
  }, 

  "command": {
    "test": {
      "template": "Run the full test suite with coverage report and show any failures. Focus on the failing tests and suggest fixes.",
      "description": "Run tests with coverage"
    },
    "commit": {
      "template": "Generate a concise commit message for the current changes. Analyze the git diff to understand what was changed and why. Only output the suggested message, do not create the commit.",
      "description": "Generate commit message"
    },
    "lint": {
      "template": "Run the project's linter and fix any issues. If no lint command exists, analyze the code for common issues.",
      "description": "Run linter and fix issues"
    },
    "component": {
      "template": "Create a new component named $ARGUMENTS with proper TypeScript typing and basic structure. Follow the project's component patterns.",
      "description": "Create a new component"
    },
    "explain": {
      "template": "Explain the code in $ARGUMENTS. Break down how it works, what it does, and identify any potential issues or improvements.",
      "description": "Explain code"
    },
    "docker": {
      "template": "Inspect the Docker environment. List running containers, check logs, and debug any issues. If $ARGUMENTS is provided, focus on that specific container or service. Use the docker MCP tools when available.",
      "description": "Inspect and debug Docker containers"
    },
    "venv": {
      "template": "Set up a Python virtual environment for this project. Use uv if available, otherwise fall back to python -m venv. Install dependencies from requirements.txt, pyproject.toml, or setup.py if present. If $ARGUMENTS is provided, use it as the venv path.",
      "description": "Set up Python virtual environment"
    },
    "deps": {
      "template": "Analyze Python dependencies for this project. Check for outdated packages, security vulnerabilities, dependency conflicts, and unused imports. Use pip, uv, or pipdeptree as available. Report findings and suggest fixes.",
      "description": "Analyze Python dependencies"
    }
  },
  
  "agent": {
    "reviewer": {
      "description": "Code reviewer agent",
      "prompt": "You are a code reviewer. Focus on security, performance, maintainability, and best practices. Provide actionable feedback and suggest improvements.",
      "tools": {
        "write": false,
        "edit": false
      }
    },
    "refactor": {
      "description": "Refactoring specialist",
      "prompt": "You are a refactoring specialist. Focus on improving code quality, reducing complexity, and making the code more maintainable while preserving functionality."
    },
    "docs": {
      "description": "Documentation writer",
      "prompt": "You are a technical documentation writer. Create clear, concise documentation that explains the code's purpose, usage, and any important considerations."
    }
  },
  
  "watcher": {
    "ignore": [
      "node_modules/**",
      "dist/**",
      ".git/**",
      "*.log",
      ".env*",
      "coverage/**",
      "build/**",
      "tmp/**",
      ".cache/**",
      "__pycache__/**",
      ".venv/**",
      ".mypy_cache/**",
      ".pytest_cache/**",
      ".ruff_cache/**",
      "*.egg-info/**",
      "*.pyc"
    ]
  },
  
  "compaction": {
    "auto": true,
    "prune": true,
    "reserved": 20000
  },
  
  "autoupdate": "notify",
  
  "share": "manual",
  
  "instructions": [
    "For Python projects, prefer ruff for linting and formatting. Use type hints consistently. Follow PEP 8 conventions.",
    "When working with Docker, check for existing docker-compose.yml or Dockerfile before suggesting new ones.",
    "When looking up library documentation, use context7 tools."
  ],
  
  "disabled_providers": [],
  
  "experimental": {}
}
